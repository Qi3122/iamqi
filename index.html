<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZhongQi Zhang</title>
    <link rel="stylesheet" href="style.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/fav/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/fav/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/fav/favicon-16x16.png">
    <link rel="manifest" href="/fav/site.webmanifest">
</head>
<body>
    <div class="container">
        <!-- 姓名和简介 -->
        <div class="info-section">
            <h1 class="name">ZhongQi  Zhang</h1>
            <p class="bio">
                <span class="bio-word">
                    <span class="bio-text bio-text-default">curiosity</span>
                    <span class="bio-text bio-text-hover">boundary</span>
                </span>
                <span class="bio-word">
                    <span class="bio-text bio-text-default">logic</span>
                    <span class="bio-text bio-text-hover">structure</span>
                </span>
                <span class="bio-word">
                    <span class="bio-text bio-text-default">taste</span>
                    <span class="bio-text bio-text-hover">value</span>
                </span>
            </p>
        </div>
        
        <!-- 网站链接 -->
        <div class="links-section">
            <a href="https://x.com/SlevenQi" target="_blank" class="social-link twitter" aria-label="X (Twitter)">
                <svg viewBox="0 0 24 24" fill="currentColor">
                    <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                </svg>
            </a>
            <a href="https://www.linkedin.com/in/zhangzhongqi/" target="_blank" class="social-link linkedin" aria-label="LinkedIn">
                <svg viewBox="0 0 24 24" fill="currentColor">
                    <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                </svg>
            </a>
            
            <a href="https://www.facebook.com/zhongqi.zhang.5" target="_blank" class="social-link facebook" aria-label="Facebook">
                <svg viewBox="0 0 24 24" fill="currentColor">
                    <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                </svg>
            </a>
        </div>
    </div>

    <script>
        // 移动端触摸交互支持 - iOS Safari & Chrome 优化
        document.addEventListener('DOMContentLoaded', function() {
            const bioWords = document.querySelectorAll('.bio-word');

            // 检测设备和浏览器信息
            const isTouchDevice = ('ontouchstart' in window) ||
                                 (navigator.maxTouchPoints > 0) ||
                                 (navigator.msMaxTouchPoints > 0);
            const userAgent = navigator.userAgent;
            const isIOS = /iPad|iPhone|iPod/.test(userAgent);

            console.log('=== Debug Info ===');
            console.log('Touch device:', isTouchDevice);
            console.log('Is iOS:', isIOS);
            console.log('Window width:', window.innerWidth);
            console.log('User Agent:', userAgent);
            console.log('Bio words found:', bioWords.length);

            bioWords.forEach((word, index) => {
                let touchStartTime = 0;
                let touchMoved = false;
                let touchStartY = 0;

                // 触摸开始
                word.addEventListener('touchstart', function(e) {
                    console.log('touchstart on word', index);
                    touchStartTime = Date.now();
                    touchMoved = false;
                    touchStartY = e.touches[0].clientY;
                    this.style.opacity = '0.7';
                }, {passive: true});

                // 检测是否移动（滑动）
                word.addEventListener('touchmove', function(e) {
                    const moveY = Math.abs(e.touches[0].clientY - touchStartY);
                    if (moveY > 10) { // 移动超过10px才算滑动
                        touchMoved = true;
                        console.log('touchmove detected on word', index);
                    }
                }, {passive: true});

                // 触摸结束 - 主要交互逻辑
                word.addEventListener('touchend', function(e) {
                    const touchDuration = Date.now() - touchStartTime;
                    console.log('touchend on word', index, '- duration:', touchDuration, 'moved:', touchMoved);

                    // 恢复透明度
                    this.style.opacity = '1';

                    // 只有点击（非滑动）且时长短才触发切换
                    if (!touchMoved && touchDuration < 500) {
                        e.preventDefault();
                        e.stopPropagation();

                        // 切换状态
                        const wasActive = this.classList.contains('active');
                        this.classList.toggle('active');
                        const nowActive = this.classList.contains('active');

                        console.log('Word', index, 'toggled:', wasActive, '->', nowActive);
                        console.log('Classes:', this.className);
                    } else {
                        console.log('Touch ignored - moved:', touchMoved, 'duration:', touchDuration);
                    }
                }, {passive: false}); // passive: false 允许 preventDefault

                // 取消默认长按菜单
                word.addEventListener('contextmenu', function(e) {
                    e.preventDefault();
                }, {passive: false});

                // 添加 click 事件作为后备（某些浏览器可能需要）
                word.addEventListener('click', function(e) {
                    console.log('click event on word', index);
                    if (isTouchDevice || window.innerWidth <= 768) {
                        e.preventDefault();
                        this.classList.toggle('active');
                        console.log('Toggled via click. Active:', this.classList.contains('active'));
                    }
                }, {passive: false});
            });

            // 点击其他区域取消所有 active 状态
            document.addEventListener('touchend', function(e) {
                if (!e.target.closest('.bio-word')) {
                    const activeWords = document.querySelectorAll('.bio-word.active');
                    if (activeWords.length > 0) {
                        console.log('Clearing', activeWords.length, 'active words');
                        activeWords.forEach(word => {
                            word.classList.remove('active');
                        });
                    }
                }
            }, {passive: true});

            // 窗口大小变化时清除状态
            let resizeTimer;
            window.addEventListener('resize', function() {
                clearTimeout(resizeTimer);
                resizeTimer = setTimeout(function() {
                    console.log('Window resized to:', window.innerWidth);
                    if (window.innerWidth > 768 && !isTouchDevice) {
                        document.querySelectorAll('.bio-word.active').forEach(word => {
                            word.classList.remove('active');
                        });
                    }
                }, 250);
            });

            console.log('=== Setup Complete ===');
        });
    </script>
</body>
</html>
